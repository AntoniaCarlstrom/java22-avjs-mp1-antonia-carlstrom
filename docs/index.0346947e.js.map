{"mappings":"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","sources":["src/modules/firebaseModule.js","src/main.js"],"sourcesContent":["\r\nasync function getFirebase() {\r\n  try {\r\n    const url = 'https://highscore-f90ba-default-rtdb.europe-west1.firebasedatabase.app/highscores.json';\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    console.log(\"data: \", data);\r\n    const highscoreDiv = document.getElementById('high-score');\r\n    highscoreDiv.innerHTML = \"\";\r\n    //Sortera array\r\n    const jsonArray = Object.values(data);\r\n    jsonArray.sort((a, b) => a.score - b.score);\r\n    jsonArray.reverse();\r\n\r\n    const finalArray = jsonArray.slice(0, 5);\r\n\r\n    console.log(\"finalArray: \", finalArray);\r\n    const highscoreList = document.querySelector('#high-score');\r\n\r\n    for (const key in finalArray) {\r\n\r\n      const user = finalArray[key];\r\n\r\n      const highScore = document.createElement('ul');\r\n      highScore.classList.add('highscore-list');\r\n\r\n      const userName = document.createElement('li');\r\n      userName.textContent = \"Name: \" + user.name;\r\n      highScore.appendChild(userName);\r\n\r\n      const score = document.createElement('li');\r\n      score.textContent = \"Score: \" + user.score;\r\n      highScore.appendChild(score);\r\n\r\n      highscoreList.appendChild(highScore);\r\n\r\n    }\r\n    return finalArray;\r\n  } catch (error) {\r\n    console.error('Error getting data from Firebase:', error);\r\n  }\r\n\r\n}\r\n\r\n/*\r\nasync function postFirebase(playerNameFromInput, totalScorePlayer) {\r\n  const url = `https://highscore-f90ba-default-rtdb.europe-west1.firebasedatabase.app/highscores.json`;\r\n  // const urlMod = newHighscoreIndex;\r\n  // console.log(newHighscoreIndex);\r\n  // const userInput = document.getElementById('user').value;\r\n  // const userInputScore = document.getElementById('score').value;\r\n\r\n  const newHighscore = {\r\n    name: playerNameFromInput,\r\n    score: totalScorePlayer\r\n  };\r\n\r\n  const option = {\r\n    method: 'POST',\r\n    body: JSON.stringify(newHighscore),\r\n    headers: {\r\n      'Content-type': 'application/json; charset=UTF-8',\r\n    },\r\n  };\r\n\r\n  const response = await fetch(url, option);\r\n  const data = await response.json();\r\n\r\n\r\n}\r\n*/\r\n\r\n// PATCH\r\nasync function patchToFirebase(finalArray) {\r\n\r\n  finalArraySorted = Object.values(finalArray);\r\n  finalArraySorted.sort((a, b) => a.score - b.score);\r\n  finalArraySorted.reverse();\r\n\r\n  finalArraySliced = finalArraySorted.slice(0,5);\r\n\r\n  console.log(finalArraySliced);\r\n\r\n\r\n  for (let i = 0; i < finalArraySliced.length; i++) {\r\n    const url = `https://highscore-f90ba-default-rtdb.europe-west1.firebasedatabase.app/highscores/${i}.json`;\r\n\r\n\r\n    const newScore = {\r\n      name: finalArraySliced[i].name,\r\n      score: finalArraySliced[i].score\r\n    }\r\n//console.log(newScore);\r\n\r\n    const options = {\r\n      method: 'PATCH',\r\n      body: JSON.stringify(newScore),\r\n      headers: {\r\n        \"Content-type\": \"application/json; charset=UTF-8\"\r\n      }\r\n    }\r\n\r\n    const response = await fetch(url, options);\r\n    const data = await response.json();\r\n    // console.log(finalArray);\r\n    // console.log(url);\r\n  }\r\n}\r\n\r\nexport { getFirebase, postFirebase, patchToFirebase }\r\n","import { getFirebase, postFirebase, patchToFirebase } from \"./modules/firebaseModule.js\";\r\n\r\nconst playerText = document.querySelector(\".playerText\");\r\nconst playerName = document.querySelector(\".playerName\");\r\nconst computerText = document.querySelector(\".computerText\");\r\nconst resultText = document.querySelector(\".resultText\");\r\nconst resultText2 = document.querySelector(\".resultText2\");\r\nconst choiceBtns = document.querySelectorAll(\".choiceBtn\");\r\nconst nameButton = document.querySelector(\".nameBtn\");\r\nconst scorePlayerDiv = document.querySelector(\".scorePlayerDiv\");\r\nconst scoreComputerDiv = document.querySelector(\".scoreComputerDiv\");\r\nconst form = document.querySelector(\"form\");\r\nconst overlay = document.querySelector(\".overlay\");\r\n\r\nlet player;\r\nlet computer;\r\nlet result;\r\nlet scorePlayer = 0;\r\nlet scoreComputer = 0;\r\nlet totalScorePlayer = 0;\r\nlet playerNameFromInput = \"\";\r\nlet nameInput;\r\nlet finalArray = [];\r\n\r\ngetFirebase()\r\n  .then( function(returnedValueFromGetFirebase){\r\n    console.log(returnedValueFromGetFirebase);\r\n    finalArray = returnedValueFromGetFirebase;\r\n  });\r\n\r\nnameButton.addEventListener(\"click\", (event) => {\r\n  event.preventDefault();\r\n  nameInput = document.querySelector(\"form input\");\r\n  playerNameFromInput = nameInput.value;\r\n  playerName.textContent = playerNameFromInput + \":\";\r\n  form.style.visibility = \"hidden\";\r\n  console.log(\"PlayerNameFromInput: \" + playerNameFromInput);\r\n});\r\n\r\n\r\n\r\nchoiceBtns.forEach((button) =>\r\n\r\n  button.addEventListener(\"click\", (event) => {\r\n    event.preventDefault();\r\n    player = button.textContent;\r\n    computerTurn();\r\n    playerText.textContent = `${player}`;\r\n    computerText.textContent = `${computer}`;\r\n    resultText.textContent = checkWinner();\r\n\r\n    if (resultText.textContent == \"You lose!\") {\r\n      scoreComputer++;\r\n      resultText2.textContent = `Game over! Computer wins!`;\r\n      overlay.classList.remove(\"hidden\");\r\n      console.log(\"till newHighscore \", playerNameFromInput, scorePlayer);\r\n      console.log('finalArray', finalArray);\r\n      let newHighscore = {\r\n        name: playerNameFromInput,\r\n        score: scorePlayer\r\n      }\r\n      console.log(\"Objektet newHighscore \", newHighscore);\r\n      setTimeout(resetGame, 1000);\r\nif (scorePlayer >  finalArray[4].score)\r\n      finalArray.push(newHighscore);\r\n\r\n      console.log(\"finalArray efter push \", finalArray);\r\n      patchToFirebase(finalArray);\r\n      \r\n\r\n    } else if (resultText.textContent == \"You win!\") {\r\n      scorePlayer++;\r\n      \r\n      resultText2.textContent = `Player wins! ${scorePlayer} points`;\r\n      \r\n      //setTimeout(resetGame, 1000);\r\n    }\r\n    scorePlayerDiv.textContent = `Score: ${scorePlayer}`;\r\n    scoreComputerDiv.textContent = `Score: ${scoreComputer}`;\r\n\r\n    \r\n\r\n  })\r\n);\r\n\r\n// restartButton.addEventListener(\"click\", () => {\r\n//   location.reload();\r\n\r\n// });\r\n\r\n\r\nfunction computerTurn() {\r\n  const randomNumber = Math.floor(Math.random() * 3) + 1;\r\n\r\n  switch (randomNumber) {\r\n    case 1:\r\n      computer = \"STEN\";\r\n      break;\r\n    case 2:\r\n      computer = \"SAX\";\r\n      break;\r\n    case 3:\r\n      computer = \"PÅSE\";\r\n      break;\r\n  }\r\n}\r\nfunction checkWinner() {\r\n  if (player == computer) {\r\n    return \"Oavgjort!\";\r\n  } else if (computer == \"STEN\") {\r\n    return player == \"SAX\" ? \"You lose!\" : \"You win!\";\r\n  } else if (computer == \"SAX\") {\r\n    return player == \"PÅSE\" ? \"You lose!\" : \"You win!\";\r\n  } else if (computer == \"PÅSE\") {\r\n    return player == \"STEN\" ? \"You lose!\" : \"You win!\";\r\n  }\r\n}\r\n\r\nfunction resetGame() {\r\n  scorePlayer = 0;\r\n  scoreComputer = 0;\r\n  //playerText.textContent = \"\";\r\n  //computerText.textContent = \"\";\r\n  resultText.textContent = \"\";\r\n  resultText2.textContent = \"\";\r\n  // getFirebase();\r\n  overlay.classList.add(\"hidden\");\r\n  form.classList.remove('hidden');\r\n  getFirebase();\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"names":["async","$cc9ae9fc7a5419b7$export$7a667d08ed65fa47","url","response","fetch","data","json","console","log","document","getElementById","innerHTML","jsonArray","Object","values","sort","a","b","score","reverse","finalArray","slice","highscoreList","querySelector","key","user","highScore","createElement","classList","add","userName","textContent","name","appendChild","error","$cc9ae9fc7a5419b7$export$e96c0a32585e1110","finalArraySorted","finalArraySliced","i","length","newScore","options","method","body","JSON","stringify","headers","$2b6e161c9edcf319$var$playerText","$2b6e161c9edcf319$var$playerName","$2b6e161c9edcf319$var$computerText","$2b6e161c9edcf319$var$resultText","$2b6e161c9edcf319$var$resultText2","$2b6e161c9edcf319$var$choiceBtns","querySelectorAll","$2b6e161c9edcf319$var$nameButton","$2b6e161c9edcf319$var$scorePlayerDiv","$2b6e161c9edcf319$var$scoreComputerDiv","$2b6e161c9edcf319$var$form","$2b6e161c9edcf319$var$overlay","$2b6e161c9edcf319$var$player","$2b6e161c9edcf319$var$computer","$2b6e161c9edcf319$var$nameInput","$2b6e161c9edcf319$var$scorePlayer","$2b6e161c9edcf319$var$scoreComputer","$2b6e161c9edcf319$var$playerNameFromInput","$2b6e161c9edcf319$var$finalArray","$2b6e161c9edcf319$var$resetGame","remove","then","returnedValueFromGetFirebase","addEventListener","event","preventDefault","value","style","visibility","forEach","button","Math","floor","random","$2b6e161c9edcf319$var$computerTurn","$2b6e161c9edcf319$var$checkWinner","newHighscore","setTimeout","push"],"version":3,"file":"index.0346947e.js.map"}